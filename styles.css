/* styles.css — farger + layout */

:root{
  --bg:#f1f0f0;           /* bakgrunn */
  --text:#f1f0f0;         /* tekst */
  --muted:#9fb0c6;        /* hjelpetekst */

  --card:#08172e;         /* kortbakgrunn */
  --card-border:#435A7F;  /* kantlinjer */

  --input:#2B3A58;        /* inputbakgrunn */
  --input-border:#435A7F; /* inputkant */

  --accent:#2B3A58;       /* primæraksent (knapp/fokus) */
  --accent-weak:#435A7F;  /* lys aksent (header, logo-bakgrunn) */

  --warning:#febe10;      /* status/varsel */
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; padding:24px;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg); color:var(--text);
}

header h1{margin:0 0 6px 0; color:var(--muted)}
header p{margin:0 0 16px 0;color:var(--muted)}
.results-heading{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:24px;
  font-size:1.5rem;
  padding-bottom:12px;
  margin-bottom:24px;
  border-bottom:1px solid var(--card-border);
}
.results-heading h2{
  margin:0;
  font-size:inherit;
}
.header-top{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:16px;
  flex-wrap:wrap;
}
.auth-controls{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.auth-controls .btn,
.auth-controls button{
  width:auto;
  white-space:nowrap;
}
.auth-user{
  color:var(--muted);
  font-size:0.9rem;
}
.login-form,
.project-form{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.login-form label,
.project-form label{
  font-size:0.95rem;
}
.login-form input,
.project-form input{
  margin-top:4px;
}
.login-error,
.project-error{
  min-height:1em;
  margin:0;
  color:var(--warning);
}
.project-form .actions{
  margin-top:4px;
}
.suggest-wrapper{
  position:relative;
}
.suggestions{
  list-style:none;
  margin:6px 0 0 0;
  padding:4px 0;
  position:absolute;
  left:0;
  right:0;
  top:100%;
  background:var(--card);
  border:1px solid var(--card-border);
  border-radius:8px;
  max-height:160px;
  overflow-y:auto;
  z-index:60;
}
.suggestions li{
  padding:6px 10px;
  cursor:pointer;
}
.suggestions li:hover{
  background:rgba(43,58,88,0.35);
}
.project-meta{
  display:flex;
  align-items:center;
  gap:16px;
  flex-wrap:wrap;
  font-size:inherit;
  color:var(--muted);
}
.project-meta .project-field{
  display:flex;
  gap:6px;
  align-items:center;
}
.project-meta strong{
  color:var(--text);
  font-weight:600;
}
.project-meta button{
  margin-left:4px;
}
.btn-inline{
  padding:6px 12px;
}
.card-header h2{margin:0; color:var(--text)}

.card{
  background:var(--card);
  border:1px solid var(--card-border);
  border-radius:14px;
  padding:16px;
  margin-bottom:16px;
}

/* Logo + tittel inne i parametre-boksen */
.card-header{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:8px;
  margin-bottom:8px;
  padding-bottom:8px;
  border-bottom:1px solid var(--card-border);
}
.logo{
  display:block;
  width:180px;            /* tilpasset, ikke bredere enn boksen */
  max-width:100%;
  height:auto;
  background:var(--card);
  border-radius:8px;
  padding:6px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:12px;
  margin:12px 0;
}

label{display:block;color:var(--text)}

input,select,button{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid var(--input-border);
  background:var(--input);
  color:var(--text);
  outline:none;
}
input::placeholder{color:#6b7280}

input:focus,select:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 3px rgba(59,130,246,0.25); /* diskret fokus */
}

button{
  width:auto;
  padding:10px 14px;
  cursor:pointer;
  background:var(--accent);
  border:1px solid var(--accent);
  color:white;
  border-radius:10px;
}
button:hover{filter:brightness(1.05)}
button:disabled{
  opacity:0.6;
  cursor:not-allowed;
}
button:disabled:hover{filter:none}

input[type="checkbox"]{
  width:auto;
  padding:0;
  margin:0;
  cursor:pointer;
}

.status{margin-left:12px;color:var(--warning)}

table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border-bottom:1px solid var(--card-border);padding:8px;text-align:left}
thead th{background:var(--accent-weak)}
tbody tr:hover{background:rgba(255,255,255,0.03)}

.totals{
  display:flex;
  flex-direction:column;
  gap:16px;
  margin:10px 0;
}
.totals-line{
  display:grid;
  grid-template-columns:repeat(3, minmax(220px,1fr));
  gap:12px;
}
.total-item{ white-space:nowrap; }
/* usynlig plassholder for kolonne-justering */
.total-item.placeholder{ visibility:hidden; }
/* Keep same font size across all rows */
.totals-montasje .total, .total{ font-size:inherit; }

.freight-item{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}
.freight-item strong{margin-right:4px;}
#freightRate{
  width:auto;
  min-width:120px;
  padding:8px 12px;
}
.freight-value{
  margin-right:10px;
}

/* Egen firkant rundt montasje-blokken */
.totals-montasje{
  padding:12px;
  border:1px solid var(--card-border);
  border-radius:10px;
  background:rgba(43,58,88,0.25);
}

/* tre kolonner inni montasje-boksen */
.totals-montasje .totals-line{
  grid-template-columns:repeat(3, minmax(220px,1fr));
}
.totals-montasje .totals-line + .totals-line{
  margin-top:8px;
}

/* Spacing for export button under BOM */
#exportCsv{ margin-top:16px; }

footer{margin-top:20px;color:var(--muted)}

.logo-mask{
  width:200px; height:60px;           /* juster til logoens format */
  background:var(--bg);               /* fargen inni logoen */
  /* bruk alfa-kanalen fra PNG som maske */
  -webkit-mask-image:url("assets/logo.png");
  mask-image:url("assets/logo.png");
  -webkit-mask-repeat:no-repeat;
  mask-repeat:no-repeat;
  -webkit-mask-size:contain;
  mask-size:contain;
  -webkit-mask-position:left center;
  mask-position:left center;
}

:root{ --form-gap:16px; }

.rows{ display:flex; flex-direction:column; gap:var(--form-gap); }

.row{
  display:grid;
  grid-template-columns:repeat(5, minmax(180px, 1fr));
  gap:var(--form-gap);
  align-items:end;
}

.row label{ width:100%; }
.row input, .row select{ width:100%; }

.row-actions{ grid-template-columns:1fr; margin-top:var(--form-gap); padding-top:var(--form-gap); }
.row-actions > div{ display:flex; gap:var(--form-gap); justify-content:flex-start; align-items:center; width:100%; }

.full-width{ grid-column:1 / -1; }
.montasje-row{ align-items:flex-start; }
.montasje-box{
  margin:0;
  border:1px solid var(--card-border);
  border-radius:12px;
  padding:12px;
}
.montasje-box legend{
  padding:0 6px;
  color:var(--muted);
  font-size:0.95rem;
}
.montasje-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));
  gap:12px;
  margin-top:4px;
  align-items:start;
}
.montasje-rate{
  grid-column:span 1;
  width:100%;
}
.oppheng-rate{
  grid-column:span 1;
  width:100%;
}
.montasje-rates{
  grid-column:1 / -1;
  display:grid;
  grid-template-columns:repeat(2, minmax(160px, 220px)) auto;
  gap:12px;
  align-items:end;
  justify-content:flex-start;
  justify-items:flex-start;
}
.montasje-rate,
.oppheng-rate{
  max-width:220px;
  width:100%;
}
.montasje-rates .rate-toggle{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:0.9rem;
  color:var(--muted);
  border:1px solid var(--card-border);
  border-radius:12px;
  padding:8px 12px;
  background:rgba(43,58,88,0.25);
  justify-self:flex-start;
  cursor:pointer;
  max-width:220px;
  width:100%;
}
.montasje-rates .rate-toggle input[type="checkbox"]{
  flex:0 0 auto;
  cursor:pointer;
  margin:0;
  width:20px;
  height:18px;
}
.montasje-box label{ font-size:0.95rem; }
.montasje-box input{ margin-top:4px; }
.montasje-box input.tight-input{
  width:50%;
  min-width:90px;
}
.montasje-box input.locked{
  color:var(--muted);
  cursor:not-allowed;
}
.montasje-box input.locked::placeholder{
  color:var(--muted);
}
.montasje-stats{
  grid-column:1 / -1;
  padding:8px 12px;
  border:1px solid var(--card-border);
  border-radius:10px;
  display:flex;
  flex-direction:column;
  gap:8px;
  background:rgba(43,58,88,0.25);
}
.montasje-stats p{ margin:0; }
.montasje-breakdown{
  margin:0;
  display:grid;
  gap:6px;
}
.montasje-breakdown div{
  display:flex;
  justify-content:space-between;
  gap:8px;
}
.montasje-breakdown dt{
  margin:0;
  font-weight:600;
}
.montasje-breakdown dd{
  margin:0;
  font-weight:600;
  text-align:right;
}
.montasje-breakdown span{ white-space:nowrap; }
.muted-text{ color:var(--muted); font-size:0.85rem; margin-top:8px; }

/* samme headerbredde som i index.html */
.card-header{ align-items:stretch; width:100%; }

@media (max-width:720px){
  .totals-montasje{
    grid-template-columns:1fr;
  }
  .montasje-rates{
    grid-template-columns:1fr;
    justify-items:stretch;
  }
  .montasje-rates .rate-toggle{
    justify-self:flex-start;
  }
}

